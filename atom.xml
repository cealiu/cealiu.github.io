<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LiuCe&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://cealiu.me/"/>
  <updated>2017-09-03T14:22:38.000Z</updated>
  <id>http://cealiu.me/</id>
  
  <author>
    <name>LiuCe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>存储知识记录</title>
    <link href="http://cealiu.me/2017/09/03/%E5%AD%98%E5%82%A8%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/"/>
    <id>http://cealiu.me/2017/09/03/存储知识记录/</id>
    <published>2017-09-03T14:19:22.000Z</published>
    <updated>2017-09-03T14:22:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>平时工作是做云计算相关的，最近在学习hadoop的知识看到hadoop的文件存储方式结合用过的ceph，elasticsearch做下存储相关知识的记录。</p>
<h2 id="块存储、文件存储、对象存储"><a href="#块存储、文件存储、对象存储" class="headerlink" title="块存储、文件存储、对象存储"></a>块存储、文件存储、对象存储</h2><h3 id="介绍："><a href="#介绍：" class="headerlink" title="介绍："></a>介绍：</h3><p>块存储：是以扇区为基础的，一个或连续的扇区组成一个块，概念来自于物理存储。</p>
<p>文件储存：是多个物理块组成逻辑块后形成文件存储，根据不同的概念及驱动形成入nfs，ext4等文件系统。</p>
<p>对象存储：结合上面两个优点，增加了元数据(metadata)服务器。</p>
<p>这里有个知乎上不错的回答：<a href="http://www.zhihu.com/question/21536660" target="_blank" rel="external">http://www.zhihu.com/question/21536660</a></p>
<h3 id="优缺点："><a href="#优缺点：" class="headerlink" title="优缺点："></a>优缺点：</h3><p>推荐生产环境ceph使用块存储、对象存储</p>
<p>文件级备份：</p>
<p>文件级备份是指在指定某些文件进行备份时，首先会查找每个文件逻辑块，其次物理块，由于逻辑块是分散在物理块上，而物理块也是分散在不同扇区上。需要一层一 层往下查找，最后才完成整个文件复制。文件级备份时比较费时间，效率不高，实时性不强，备份时间长，且增量备份时，单文件某一小部份修改，不会只备份修改 部份，而整个文件都备份。</p>
<p>块级备份：</p>
<p>块级备份是指物理块复制，效率高，实时性强，备份时间短，且增量备份时，只备份修改过的物理块。</p>
<h2 id="ceph、hadoop、elasticsearch"><a href="#ceph、hadoop、elasticsearch" class="headerlink" title="ceph、hadoop、elasticsearch"></a>ceph、hadoop、elasticsearch</h2><p>hadoop：分布式存储主要适用于一次写入多次读取的场合（后续可能会增加其他数据处理方式），有数据块的概念(64M为一块，可配置)，将大文件分割为多个块进行存储；namenode内存中存放datanode数据索引，存储大小瓶颈来自namenode内存大小。</p>
<p>ceph：支持块存储、文件存储、对象存储；与hadoop相似的是块存储，不过更接近于物理块的概念；ceph的块驱动基于RBD（介绍<a href="http://www.sebastien-han.fr/blog/2016/03/28/ceph-jewel-preview-ceph-rbd-mirroring" target="_blank" rel="external">http://www.sebastien-han.fr/blog/2016/03/28/ceph-jewel-preview-ceph-rbd-mirroring</a>）</p>
<p>hadoop的存储也可以换成ceph的块存储不过性能可能会下降。</p>
<p>elasticsearch：更接近于nosql的数据库，不过分布式存储也是切片保存数据（介绍<a href="https://kibana.logstash.es/content/elasticsearch/principle/" target="_blank" rel="external">https://kibana.logstash.es/content/elasticsearch/principle/</a>）；查询的时候还有hadoop-elasticsearch插件感觉上是将logstash替换为了hadoop（理解的不知道对不对）。</p>
<h3 id="最后："><a href="#最后：" class="headerlink" title="最后："></a>最后：</h3><p>以上是工作中接触过的一些分布式存储的系统，要是想更深层次的理解一些知识还是要看一些理论行的东西如CAP，数据一致性存储等。</p>
<p>以上有什么说的不对的请指正，大家共同学习。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;平时工作是做云计算相关的，最近在学习hadoop的知识看到hadoop的文件存储方式结合用过的ceph，elasticsearch做下存储相关知识的记录。&lt;/p&gt;
&lt;h2 id=&quot;块存储、文件存储、对象存储&quot;&gt;&lt;a href=&quot;#块存储、文件存储、对象存储&quot; class=&quot;
    
    </summary>
    
    
      <category term="cloud" scheme="http://cealiu.me/tags/cloud/"/>
    
  </entry>
  
  <entry>
    <title>Logistic回归和Sigmoid函数的理解</title>
    <link href="http://cealiu.me/2017/09/01/Logistic%E5%9B%9E%E5%BD%92%E5%92%8CSigmoid%E5%87%BD%E6%95%B0%E7%9A%84%E7%90%86%E8%A7%A3/"/>
    <id>http://cealiu.me/2017/09/01/Logistic回归和Sigmoid函数的理解/</id>
    <published>2017-09-01T06:02:21.000Z</published>
    <updated>2017-09-03T14:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>看《机器学习实战》一书的Logistic回归记录下自己的理解，书上的例子用的是二维向量；该方法预测用的是Sigmoid函数（信号与系统的阶跃函数）。<br>$$<br>\sigma(z) = \cfrac{1}{1  +e^{-z}}<br>$$</p>
<p>Sigmoid函数的输入记为z，下面公式用于确定z：<br>$$<br>z = w_{0}x_{0} + w_{1}x_{1} + w_{2}x_{2} + …+ w_{n}x_{n}<br>$$</p>
<p>书上用的梯度上升算法确定系数w的数值。<br>$$<br>w = w + \alpha\delta f(w)<br>$$<br>该算法一直迭代找出w的系数，代码里是w（n，1），$\alpha = 0.001$ 循环500次得出系数矩阵。</p>
<p>该函数二维上就是在一些散点中画一条线来划分出不同的特征点，我们要找W就是这条线的系数。</p>
<p>书上给的给出的代码例程不能很好的运行，我做了简单的修改最后结果如下图：</p>
<p>修改过的源码上传到我的GitHub了<a href="https://github.com/cealiu/machinelearn/tree/master/Ch05" target="_blank" rel="external">地址</a></p>
<p><img src="/images/Logistic_1.png" alt=""></p>
<p>因为这个解法要迭代全部数据计算量比较大，后面的优化都是为了减少计算量做的比较好理解了就不在这里说明了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;看《机器学习实战》一书的Logistic回归记录下自己的理解，书上的例子用的是二维向量；该方法预测用的是Sigmoid函数（信号与系统的阶跃函数）。&lt;br&gt;$$&lt;br&gt;\sigma(z) = \cfrac{1}{1  +e^{-z}}&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;Sigmoi
    
    </summary>
    
    
      <category term="机器学习" scheme="http://cealiu.me/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>opentack节点扩容后热迁移异常</title>
    <link href="http://cealiu.me/2017/09/01/opentack%E8%8A%82%E7%82%B9%E6%89%A9%E5%AE%B9%E5%90%8E%E7%83%AD%E8%BF%81%E7%A7%BB%E5%BC%82%E5%B8%B8/"/>
    <id>http://cealiu.me/2017/09/01/opentack节点扩容后热迁移异常/</id>
    <published>2017-09-01T02:27:37.000Z</published>
    <updated>2017-09-01T02:47:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>扩容完成后旧计算节点上的虚机无法正常热迁移到新计算节点上</p>
<p>故障原因为：新旧节点的qemu版本存在差异。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa | grep kvm</div></pre></td></tr></table></figure>
<p>qemu-kvm-2.5.1-1.1.el7.x86_64</p>
<p>libvirt-daemon-kvm-1.3.1-1.el7.centos.es.x86_64</p>
<p>qemu-kvm-common-2.5.1-1.1.el7.x86_64</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -qa | grep kvm</div></pre></td></tr></table></figure>
<p>qemu-kvm-2.5.1-1.el7.es.x86_64</p>
<p>libvirt-daemon-kvm-1.3.1-1.el7.centos.es.x86_64</p>
<p>qemu-kvm-common-2.5.1-1.el7.es.x86_64</p>
<p>openstack虚机热迁移节点要求（摘录三条）:</p>
<ol>
<li><p>源和目标节点的 CPU 类型要一致。</p>
</li>
<li><p>源和目标节点的 Libvirt 版本要一致。</p>
</li>
<li><p>源和目标节点能相互识别对方的主机名称，比如可以在 /etc/hosts 中加入对方的条目。</p>
<p>迁移失败原因是第2条不满足。</p>
<p>升级qumu版本后解决，blog留作记录。</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;扩容完成后旧计算节点上的虚机无法正常热迁移到新计算节点上&lt;/p&gt;
&lt;p&gt;故障原因为：新旧节点的qemu版本存在差异。&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div cl
    
    </summary>
    
    
      <category term="cloud" scheme="http://cealiu.me/tags/cloud/"/>
    
  </entry>
  
  <entry>
    <title>python 发送邮件出现Connection reset by peer解决</title>
    <link href="http://cealiu.me/2017/08/31/python-%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E5%87%BA%E7%8E%B0Connection-reset-by-peer%E8%A7%A3%E5%86%B3/"/>
    <id>http://cealiu.me/2017/08/31/python-发送邮件出现Connection-reset-by-peer解决/</id>
    <published>2017-08-31T13:17:37.000Z</published>
    <updated>2017-08-31T13:44:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>​       利用python自带的stmp模块发送邮件成功，但是在添加附件后发送失败。运行代码后提示出现connection reset by peer错误，查看后台服务器发现邮件服务器直接关闭了链接。</p>
<p>​       网上查找发现对于此问题的解释多是因为socket，web连接问题。后经排查后发现stmp协议使用的端口号是25：这里贴一段关于SMTP协议的介绍STMP协议介绍</p>
<p>​      下面连接邮件服务器一定要写上邮件端口号25<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">smtp.connect(smtpserver,<span class="string">"25"</span>)</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​       利用python自带的stmp模块发送邮件成功，但是在添加附件后发送失败。运行代码后提示出现connection reset by peer错误，查看后台服务器发现邮件服务器直接关闭了链接。&lt;/p&gt;
&lt;p&gt;​       网上查找发现对于此问题的解释多是因为
    
    </summary>
    
    
      <category term="python" scheme="http://cealiu.me/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://cealiu.me/2017/08/30/hello-world/"/>
    <id>http://cealiu.me/2017/08/30/hello-world/</id>
    <published>2017-08-30T12:19:34.000Z</published>
    <updated>2017-09-01T16:12:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>用hexo和github搭建了一个静态博客，程序员惯用helloworld例程那就拿之前在知乎写简单写的一个回答放在这里吧，当作熟悉hexo博客和markdown语法了；后续会将开源中国上的和笔记软件记录的内容放上来。</p>
<h2 id="韩国灾难电影推荐"><a href="#韩国灾难电影推荐" class="headerlink" title="韩国灾难电影推荐"></a>韩国灾难电影推荐</h2><p>最近在腾讯视频上看了部韩国电影《铁线虫入侵》仔细回想发现之前看过不少类似韩国灾难电影这里一并推荐出来吧。</p>
<h3 id="《铁线虫入侵》"><a href="#《铁线虫入侵》" class="headerlink" title="《铁线虫入侵》"></a>《铁线虫入侵》</h3><p>关于人体寄生虫的故事</p>
<p><img src="/images/tiexianchongruqin.jpg" alt=""></p>
<h3 id="《流感》"><a href="#《流感》" class="headerlink" title="《流感》"></a>《流感》</h3><p>讲传染病的故事，让人想起之前的非典不过电影比较夸张</p>
<p><img src="/images/liugan.jpg" alt=""></p>
<h3 id="《釜山行》"><a href="#《釜山行》" class="headerlink" title="《釜山行》"></a>《釜山行》</h3><p>号称亚洲首部丧尸片</p>
<p><img src="/images/fushanxing.jpg" alt=""></p>
<h3 id="《隧道》"><a href="#《隧道》" class="headerlink" title="《隧道》"></a>《隧道》</h3><p>类似井下求生的故事</p>
<p><img src="/images/suidao.jpg" alt=""></p>
<h3 id="《汉江怪物》"><a href="#《汉江怪物》" class="headerlink" title="《汉江怪物》"></a>《汉江怪物》</h3><p>大家一起打怪兽</p>
<p><img src="/images/hanjiangguaiwu.jpg" alt=""></p>
<h3 id="《潘多拉》"><a href="#《潘多拉》" class="headerlink" title="《潘多拉》"></a>《潘多拉》</h3><p>讲述核电站核泄漏的故事</p>
<p><img src="/images/panduola.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用hexo和github搭建了一个静态博客，程序员惯用helloworld例程那就拿之前在知乎写简单写的一个回答放在这里吧，当作熟悉hexo博客和markdown语法了；后续会将开源中国上的和笔记软件记录的内容放上来。&lt;/p&gt;
&lt;h2 id=&quot;韩国灾难电影推荐&quot;&gt;&lt;a hr
    
    </summary>
    
    
      <category term="影视" scheme="http://cealiu.me/tags/%E5%BD%B1%E8%A7%86/"/>
    
  </entry>
  
</feed>
